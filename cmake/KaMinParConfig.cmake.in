list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR})

set(KAMINPAR_BUILD_DISTRIBUTED @KAMINPAR_BUILD_DISTRIBUTED@)
set(KAMINPAR_BUILD_WITH_SPARSEHASH @KAMINPAR_BUILD_WITH_SPARSEHASH@)
set(KAMINPAR_BUILD_WITH_MTKAHYPAR @KAMINPAR_BUILD_WITH_MTKAHYPAR@)
set(KAMINPAR_BUILD_WITH_KASSERT @KAMINPAR_BUILD_WITH_KASSERT@)

set(KAMINPAR_DOWNLOAD_MTKAHYPAR @KAMINPAR_DOWNLOAD_MTKAHYPAR@)
set(KAMINPAR_DOWNLOAD_KASSERT @KAMINPAR_DOWNLOAD_KASSERT@)
set(KAMINPAR_DOWNLOAD_KAGEN @KAMINPAR_DOWNLOAD_KAGEN@)

include(CMakeFindDependencyMacro)
find_dependency(TBB REQUIRED)

if(KAMINPAR_BUILD_WITH_SPARSEHASH)
  find_dependency(Sparsehash REQUIRED)
endif()

if(KAMINPAR_BUILD_WITH_MTKAHYPAR AND NOT KAMINPAR_DOWNLOAD_MTKAHYPAR)
  find_dependency(mtkahypar REQUIRED)
endif()

if(KAMINPAR_BUILD_WITH_KASSERT AND NOT KAMINPAR_DOWNLOAD_KASSERT)
  find_dependency(kassert REQUIRED)
endif()

if(KAMINPAR_BUILD_DISTRIBUTED)
  find_dependency(MPI REQUIRED)

  if(NOT KAMINPAR_DOWNLOAD_KAGEN)
    find_dependency(kagen REQUIRED)
  endif()
endif()

include("${CMAKE_CURRENT_LIST_DIR}/KaMinParTargets.cmake")
